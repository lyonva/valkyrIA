# Homework 3 Report
- CSC 791 Sinless Software Engineering
- By: Leonardo Villalobos Arias

## Description
#### Column
A family of classes "[Column](https://github.com/lyonva/valkyrIA/blob/main/src/df/column.py)" was added. These columns represent, in the context of a table with data, a summary of information of one column. For types of columns were implemented:
- **[Sym](https://github.com/lyonva/valkyrIA/blob/main/src/df/column.py#L60)**: Stores information about symbols (i.e. non-numbers, text) and keeps track of the mode.
- **[Num](https://github.com/lyonva/valkyrIA/blob/main/src/df/column.py#L25)**: Stores information about numerical features (float, int) and keeps track of min, max, mean, and standard deviation.
- **[Some](https://github.com/lyonva/valkyrIA/blob/main/src/df/column.py#L84)**: Stores a sample of 256 numbers, useful for non-parametric tests.
- **[Skip](https://github.com/lyonva/valkyrIA/blob/main/src/df/column.py#L19)**: Does not store any information.

#### Sample
Moreover, a class "[Sample](https://github.com/lyonva/valkyrIA/blob/main/src/df/sample.py)" was implemented. The class stores a series of rows (lists of data). Said rows can be added one by one. The first row added to a sample is assumed as the header, and determines the amount and type of columns the sample will hold. For a description of the supported types of columns, see the [report of homework 2](https://github.com/lyonva/valkyrIA/blob/main/docs/hw2.md). Bulk adding of data is supported using a list of lists (i.e. a matrix). Reading from a csv file is additionally supported. The sample employs the column class to summarize the information of each feature or column of the data matrix. Sample also supports distinction between independent features (stored as x) and target or dependent features (stored as y for numbers, klass for symbols). 

Important methods of the sample class:
- *add*: Adds a new row to the sample, and updates each column
- *read*: From a list of rows, adds each row to the sample
- *read_csv*: Static method that takes a path of a csv file, and returns a Sample with said data.
- *clone*: Clones the structure of the sample. Cloning of underlying data is not currently implemented.
- *sort*: Sorts the sample by its target attributes using the multi-objective indicator by [Zitler and KÃ¼nzli](https://www.simonkuenzli.ch/docs/ZK04.pdf) as a score function.

Lastly, the sample can be converted into a string to show the structure of its contents. This includes headers, and the first and last 5 rows.

## Example

### Sample from a matrix
```
data = [["outlook", "Temp", "Wins+"], ["sunny", 85, 10], ["sunny", 80, 12]]
s = Sample()
s.read(data)
```

### Sample from a file
```
s = Sample.read_csv("data/weather.csv")
```

## Tests
Test for the column class family are available on [test/test_columns.py](https://github.com/lyonva/valkyrIA/blob/main/test/test_columns.py). Test for the sample class are available on [test/test_sample.py](https://github.com/lyonva/valkyrIA/blob/main/test/test_sample.py).

Columns were tested on randomly generated data. The Num, Some, and Skip columns were tested on random numbers between -100 and 100. The Sym column was tested on samples of 4 words, using 3 different probabilities: same chance, skewed chance, uniform population. The information of each column was tested against the Python library statistical functions (mean, std, mode, max, min).

Samples were tested on the following 3 datasets on the [data](https://github.com/lyonva/valkyrIA/data) directory: [weather](https://github.com/lyonva/valkyrIA/blob/main/data/weather.csv), [auto93](https://github.com/lyonva/valkyrIA/blob/main/data/auto93.csv), and [pom3a](https://github.com/lyonva/valkyrIA/blob/main/data/pom3a.csv). The samples were checked against pandas dataframes read from the same files. The shape and contents of the sample were checked against these dataframes. One last test case was performed to check that the sort function works.

## Results
The test were conducted by a github action for the commit [f018cfc](https://github.com/lyonva/valkyrIA/commit/f018cfccd059e36f6bb79b9fece657297107d5dd), and the corresponding [report](https://github.com/lyonva/valkyrIA/actions/runs/1207213444) shows that all test cases passed. The output generated by the program is included in each test case.

For the sorting test, the following Sample was printed after sorting:
```
Cylinders     Displacement     Horsepower     Weight-     Acceleration+     Model     origin     Mpg+     
4             97               52             2130        24.6              82        2          40       
4             90               48             2335        23.7              80        2          40       
4             86               65             2110        17.9              80        3          50       
4             90               48             1985        21.5              78        2          40       
4             90               48             2085        21.7              80        2          40       

8             440              215            4312        8.5               70        1          10       
8             429              198            4952        11.5              73        1          10       
8             383              180            4955        11.5              71        1          10       
8             400              175            5140        12                71        1          10       
8             455              225            4951        11                73        1          10   
```

All test cases for the column and sample classes passed, showing that the code works for the random data and the 3 datasets. Moreover, the sorting algorithm for the sample is functional.
